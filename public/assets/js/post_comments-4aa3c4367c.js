{let e=function(){$(".new-comment-form").submit((function(t){t.preventDefault(),e(this.id)}));let e=function(e){let o=$(`#${e}`);$.ajax({type:"post",url:"/comments/create",data:o.serialize(),success:function(e){let o=t(e.data.comment),l=document.querySelector(`#post-comments-${e.data.comment.post._id}`);l.innerHTML=o+l.innerHTML,new ToggleLike($(" .toggle-like-button",o)),new Noty({theme:"relax",text:"Comments added",type:"success",layout:"topRight",timeout:1500}).show(),document.querySelector(`#input-${e.data.comment.post._id}`).value="",document.querySelectorAll(".comments-list").forEach((e=>{n($(" .delete-comment-button",e))}))},error:function(e){console.log(e.responseText)}})}},t=function(e){return`<li class="comments-list" id="comment-${e._id}">\n            <p>\n                    <small>\n                        <a class="delete-comment-button" href="comments/destroy/${e._id}">X</a>\n                    </small>\n                    ${e.content}\n                            <br>\n                            <small>\n                                ${e.user.name}\n                            </small>\n                            <small>\n                            <a class="toogle-like-button" data-likes="0" href="/likes/togglt/id=${e._id}&type=Comment">\n                                0 Likes\n                            </a>\n                        </small>\n            </p>\n        </li>`},n=function(e){$(e).click((function(t){console.log("clicked"),t.preventDefault(),$.ajax({type:"get",url:$(e).prop("href"),success:function(e){$(`#comment-${e.data.comment_id}`).remove()},error:function(e){console.log(e.responseText)}}),new Noty({theme:"relax",text:"Comment Deleted",type:"success",layout:"topRight",timeout:1500}).show()}))};document.querySelectorAll(".comments-list").forEach((e=>{n($(" .delete-comment-button",e))})),e()}